import{d as C,c as p,r as g,h as I,v as b,u as c,o as u,w as a,e as n,b as o,x as y,a as w,F as P,j as k,i as _,t as v}from"./app-DpRlgWJR.js";import{I as B}from"./InputError-NFE_XHba.js";import{B as F}from"./index-C7rh1qJW.js";import{I as T}from"./Input-BVCHkRpQ.js";import{P as V,a as E,b as R}from"./PinInputSlot-ChKHR6kg.js";import{A as j}from"./AuthLayout-6T13nIzL.js";import{s as S}from"./index-DBx8TID2.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./useForwardExpose-B1loC1l2.js";import"./VisuallyHidden-1QkZVyB6.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./VisuallyHiddenInput-XfMIOE4B.js";import"./index-4Ns3tNZl.js";const G=C({__name:"TwoFactorChallenge",setup(h,{expose:t}){t();const f=p(()=>e.value?{title:"Recovery Code",description:"Please confirm access to your account by entering one of your emergency recovery codes.",toggleText:"login using an authentication code"}:{title:"Authentication Code",description:"Enter the authentication code provided by your authenticator application.",toggleText:"login using a recovery code"}),e=g(!1),m=l=>{e.value=!e.value,l(),s.value=[]},s=g([]),i=p(()=>s.value.join("")),r={authConfigContent:f,showRecoveryInput:e,toggleRecoveryMode:m,code:s,codeValue:i,InputError:B,get Button(){return F},get Input(){return T},get PinInput(){return R},get PinInputGroup(){return E},get PinInputSlot(){return V},AuthLayout:j,get store(){return S},get Form(){return b},get Head(){return I}};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),L={class:"space-y-6"},M=["value"],N={class:"flex flex-col items-center justify-center space-y-3 text-center"},H={class:"flex w-full items-center justify-center"},q={class:"text-center text-sm text-muted-foreground"},D=["onClick"],O={class:"text-center text-sm text-muted-foreground"},U=["onClick"];function z(h,t,f,e,m,s){return u(),c(e.AuthLayout,{title:e.authConfigContent.title,description:e.authConfigContent.description},{default:a(()=>[n(e.Head,{title:"Two-Factor Authentication"}),o("div",L,[e.showRecoveryInput?(u(),c(e.Form,y({key:1},e.store.form(),{class:"space-y-4","reset-on-error":""}),{default:a(({errors:i,processing:r,clearErrors:l})=>[n(e.Input,{name:"recovery_code",type:"text",placeholder:"Enter recovery code",autofocus:e.showRecoveryInput,required:""},null,8,["autofocus"]),n(e.InputError,{message:i.recovery_code},null,8,["message"]),n(e.Button,{type:"submit",class:"w-full",disabled:r},{default:a(()=>t[4]||(t[4]=[_("Continue",-1)])),_:2,__:[4]},1032,["disabled"]),o("div",O,[t[5]||(t[5]=o("span",null,"or you can ",-1)),o("button",{type:"button",class:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500",onClick:()=>e.toggleRecoveryMode(l)},v(e.authConfigContent.toggleText),9,U)])]),_:1},16)):(u(),c(e.Form,y({key:0},e.store.form(),{class:"space-y-4","reset-on-error":"",onError:t[1]||(t[1]=i=>e.code=[])}),{default:a(({errors:i,processing:r,clearErrors:l})=>[o("input",{type:"hidden",name:"code",value:e.codeValue},null,8,M),o("div",N,[o("div",H,[n(e.PinInput,{id:"otp",placeholder:"â—‹",modelValue:e.code,"onUpdate:modelValue":t[0]||(t[0]=d=>e.code=d),type:"number",otp:""},{default:a(()=>[n(e.PinInputGroup,null,{default:a(()=>[(u(),w(P,null,k(6,(d,x)=>n(e.PinInputSlot,{key:d,index:x,disabled:r,autofocus:""},null,8,["index","disabled"])),64))]),_:2},1024)]),_:2},1032,["modelValue"])]),n(e.InputError,{message:i.code},null,8,["message"])]),n(e.Button,{type:"submit",class:"w-full",disabled:r},{default:a(()=>t[2]||(t[2]=[_("Continue",-1)])),_:2,__:[2]},1032,["disabled"]),o("div",q,[t[3]||(t[3]=o("span",null,"or you can ",-1)),o("button",{type:"button",class:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500",onClick:()=>e.toggleRecoveryMode(l)},v(e.authConfigContent.toggleText),9,D)])]),_:1},16))])]),_:1},8,["title","description"])}const ae=A(G,[["render",z],["__file","/var/www/resources/js/pages/auth/TwoFactorChallenge.vue"]]);export{ae as default};
