import{d as x,O as G,c as f,r as T,N as F,u as V,o as B,w as M,B as C,e as H,A as d,x as E,p as U,m as J,D as N,C as L}from"./app-DpRlgWJR.js";import{c as Q,a as W,b as X,g as Y,u as Z,d as z}from"./VisuallyHidden-1QkZVyB6.js";import{P as A,c as D}from"./index-C7rh1qJW.js";import{a as ee,b as te,r as R}from"./useForwardExpose-B1loC1l2.js";import{_ as j}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{u as ae}from"./useArrowNavigation-C6Y-ieo6.js";import{V as re}from"./VisuallyHiddenInput-XfMIOE4B.js";const[le,ne]=Q("PinInputRoot");var oe=x({inheritAttrs:!1,__name:"PinInputRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:Array,required:!1},placeholder:{type:String,required:!1,default:""},mask:{type:Boolean,required:!1},otp:{type:Boolean,required:!1},type:{type:null,required:!1,default:"text"},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","complete"],setup(u,{emit:l}){const t=u,a=l,{mask:s,otp:n,placeholder:_,type:v,disabled:g,dir:h}=G(t),{forwardRef:$}=ee(),b=W(h),p=te(t,"modelValue",a,{defaultValue:t.defaultValue??[],passive:t.modelValue===void 0}),P=f(()=>Array.isArray(p.value)?[...p.value]:[]),y=T(new Set);function k(i){y.value.add(i)}const S=f(()=>t.type==="number"),q=f(()=>P.value.filter(m=>!!m||S.value&&m===0).length===y.value.size);return F(p,()=>{q.value&&a("complete",p.value)},{deep:!0}),ne({modelValue:p,currentModelValue:P,mask:s,otp:n,placeholder:_,type:v,dir:b,disabled:g,isCompleted:q,inputElements:y,onInputElementChange:k,isNumericMode:S}),(i,m)=>(B(),V(d(A),E(i.$attrs,{ref:d($),dir:d(b),"data-complete":q.value?"":void 0,"data-disabled":d(g)?"":void 0}),{default:M(()=>[C(i.$slots,"default",{modelValue:d(p)}),H(re,{id:i.id,as:"input",feature:"focusable",tabindex:"-1",value:P.value.join(""),name:i.name??"",disabled:d(g),required:i.required,onFocus:m[0]||(m[0]=w=>Array.from(y.value)?.[0]?.focus())},null,8,["id","value","name","disabled","required"])]),_:3},16,["dir","data-complete","data-disabled"]))}}),se=oe,ue=x({__name:"PinInputInput",props:{index:{type:Number,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},setup(u){const l=u,t=le(),a=f(()=>Array.from(t.inputElements.value)),s=f(()=>t.currentModelValue.value[l.index]),n=f(()=>l.disabled||t.disabled.value),_=f(()=>t.otp.value),v=f(()=>t.mask.value),{primitiveElement:g,currentElement:h}=X();function $(e){const r=e.target;if((e.data?.length??0)>1){i(r.value);return}if(t.isNumericMode.value&&!/^\d*$/.test(r.value)){r.value=r.value.replace(/\D/g,"");return}r.value=e.data??"",w(l.index,r.value);const o=a.value[l.index+1];o&&o.focus()}function b(){const e=h.value;L(()=>{e&&!e.value&&(e.placeholder=t.placeholder.value)})}function p(e){ae(e,Y(),void 0,{itemsArray:a.value,focus:!0,loop:!1,arrowKeyOptions:"horizontal",dir:t.dir.value})}function P(e){if(e.preventDefault(),e.target.value)w(l.index,"");else{const c=a.value[l.index-1];c&&(c.focus(),w(l.index-1,""))}}function y(e){e.key==="Delete"&&(e.preventDefault(),w(l.index,""))}function k(e){const r=e.target;r.setSelectionRange(1,1),r.value||(r.placeholder="")}function S(e){b()}function q(e){e.preventDefault();const r=e.clipboardData;if(!r)return;const o=r.getData("text");i(o)}function i(e){const r=[...t.currentModelValue.value],o=e.length>=a.value.length?0:l.index,c=Math.min(o+e.length,a.value.length);for(let I=o;I<c;I++){const K=a.value[I],O=e[I-o];t.isNumericMode.value&&!/^\d*$/.test(O)||(r[I]=O,K.focus())}t.modelValue.value=r,a.value[c]?.focus()}function m(e){let r=e.length-1;for(;r>=0&&e[r]==="";)e.pop(),r--;return e}function w(e,r){const o=[...t.currentModelValue.value];if(t.isNumericMode.value){const c=+r;r===""||isNaN(c)?delete o[e]:o[e]=c}else o[e]=r;t.modelValue.value=m(o)}return F(s,()=>{s.value||b()}),U(()=>{t.onInputElementChange(h.value)}),J(()=>{t.inputElements?.value.delete(h.value)}),(e,r)=>(B(),V(d(A),{ref_key:"primitiveElement",ref:g,autocapitalize:"none",as:e.as,"as-child":e.asChild,autocomplete:_.value?"one-time-code":"false",type:v.value?"password":"text",inputmode:d(t).isNumericMode.value?"numeric":"text",pattern:d(t).isNumericMode.value?"[0-9]*":void 0,placeholder:d(t).placeholder.value,value:s.value,disabled:n.value,"data-disabled":n.value?"":void 0,"data-complete":d(t).isCompleted.value?"":void 0,"aria-label":`pin input ${e.index+1} of ${a.value.length}`,onInput:r[0]||(r[0]=o=>$(o)),onKeydown:[N(p,["left","right","up","down","home","end"]),N(P,["backspace"]),N(y,["delete"])],onFocus:k,onBlur:S,onPaste:q},{default:M(()=>[C(e.$slots,"default")]),_:3},8,["as","as-child","autocomplete","type","inputmode","pattern","placeholder","value","disabled","data-disabled","data-complete","aria-label"]))}}),ie=ue;const de=x({__name:"PinInput",props:{modelValue:{type:null,required:!1,default:()=>[]},defaultValue:{type:Array,required:!1},placeholder:{type:String,required:!1},mask:{type:Boolean,required:!1},otp:{type:Boolean,required:!1},type:{type:null,required:!1},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1},class:{type:null,required:!1}},emits:["update:modelValue","complete"],setup(u,{expose:l,emit:t}){l();const a=u,s=t,n=R(a,"class"),_=Z(n,s),v={props:a,emits:s,delegatedProps:n,forwarded:_,get PinInputRoot(){return se},get cn(){return D}};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}});function pe(u,l,t,a,s,n){return B(),V(a.PinInputRoot,E({"data-slot":"pin-input"},a.forwarded,{class:a.cn("flex items-center gap-2 has-disabled:opacity-50 disabled:cursor-not-allowed",a.props.class)}),{default:M(()=>[C(u.$slots,"default")]),_:3},16,["class"])}const we=j(de,[["render",pe],["__file","/var/www/resources/js/components/ui/pin-input/PinInput.vue"]]),ce=x({__name:"PinInputGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u,{expose:l}){l();const t=u,a=R(t,"class"),s=z(a),n={props:t,delegatedProps:a,forwardedProps:s,get Primitive(){return A},get cn(){return D}};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}});function fe(u,l,t,a,s,n){return B(),V(a.Primitive,E({"data-slot":"pin-input-group"},a.forwardedProps,{class:a.cn("flex items-center",a.props.class)}),{default:M(()=>[C(u.$slots,"default")]),_:3},16,["class"])}const Ie=j(ce,[["render",fe],["__file","/var/www/resources/js/components/ui/pin-input/PinInputGroup.vue"]]),me=x({__name:"PinInputSlot",props:{index:{type:Number,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1}},setup(u,{expose:l}){l();const t=u,a=R(t,"class"),s=z(a),n={props:t,delegatedProps:a,forwardedProps:s,get PinInputInput(){return ie},get cn(){return D}};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}});function ve(u,l,t,a,s,n){return B(),V(a.PinInputInput,E({"data-slot":"pin-input-slot"},a.forwardedProps,{class:a.cn("border-input focus:border-ring focus:ring-ring/50 focus:aria-invalid:ring-destructive/20 dark:bg-input/30 dark:focus:aria-invalid:ring-destructive/40 aria-invalid:border-destructive focus:aria-invalid:border-destructive relative flex h-9 w-9 items-center justify-center border-y border-r text-sm shadow-xs transition-all outline-none text-center first:rounded-l-md first:border-l last:rounded-r-md focus:z-10 focus:ring-[3px]",a.props.class)}),null,16,["class"])}const xe=j(me,[["render",ve],["__file","/var/www/resources/js/components/ui/pin-input/PinInputSlot.vue"]]);export{xe as P,Ie as a,we as b};
